@page "/cadeaus"
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

<GiftListTekst />

<HoneymoonTekst />

<div class="honeymoon-container">
    @foreach (var donation in _donations) {
    <a class="donation" href="@(donation.Link)" target="_blank" rel="noreferrer">
        <div class="donation-content">
            <img src="/image/qr-huwelijksreis-@(donation.Id).png" alt="Huwelijksreis QR @(donation.Id)"/>
            <h3>@(donation.Header)</h3>
            <p>@(donation.Text)</p>
        </div>
        <div class="fancy-hover" />
    </a>
    }
</div>

@code {
    private IReadOnlyList<Donation> _donations = Array.Empty<Donation>();

    protected override void OnInitialized()
    {
        _donations = Configuration.GetSection("Honeymoon:Donations").Get<List<Donation>>() ?? new List<Donation>();
    }
}

<style lang="scss">
    .honeymoon-container {
        width: 100%;
        min-width: 465px;
        margin-top: 40px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        
        .donation {
            width: 100%;
            max-width: 330px;
            padding: 20px 7px;
            border-radius: 5px;
            border: 1px solid var(--secondary);
            
            color: unset;
            text-decoration: none;
            
            position: relative;
            
            .donation-content {
                img {
                    width: 210px;
                }
            }

            .fancy-hover {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0,0,0,0);
            }
            &:hover .fancy-hover {
                transition: all 0.2s ease-in;
                background-color: var(--secondary-light-hover);
            }
        }
    }
</style>